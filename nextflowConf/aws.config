params {
  refSource = "datahub"
}

process {
  withName:trackStart {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:getBag {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:getData {
    cpus = 16
    memory = '32 GB'
  }
  withName:parseMetadata {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:getRefERCC {
    cpus = 16
    memory = '32 GB'
  }
  withName:getRef {
    cpus = 16
    memory = '32 GB'
  }
  withName:fastqc {
    cpus = 16
    memory = '32 GB'
  }
  withName:seqwho {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:trimData {
    cpus = 16
    memory = '32 GB'
  }
  withName:downsampleData {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:alignSampleDataERCC {
    cpus = 16
    memory = '32 GB'
  }
  withName:alignSampleData {
    cpus = 16
    memory = '32 GB'
  }
  withName:inferMetadata {
    cpus = 16
    memory = '32 GB'
  }
  withName:checkMetadata {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:alignData {
    cpus = 16
    memory = '32 GB'
  }
  withName:dedupData {
    cpus = 16
    memory = '32 GB'
  }
  withName:countData {
    cpus = 16
    memory = '32 GB'
  }
  withName:makeBigWig {
    cpus = 16
    memory = '32 GB'
  }
  withName:dataQC {
    cpus = 16
    memory = '32 GB'
  }
  withName:aggrQC {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:uploadInputBag {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:uploadExecutionRun {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:uploadQC {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:uploadProcessedFile {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:uploadOutputBag {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:finalizeExecutionRun {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:failPreExecutionRun {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:failExecutionRun {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
  withName:uploadQC_fail {
    executor = 'local'
    cpus = 1
    memory = '1 GB'
  }
}

docker {
  enabled = true
}
