process {
  executor = 'slurm'
  queue = 'super'
  clusterOptions = '--hold'

  // Process specific configuration
  withName:splitData {
    container = 'docker://bicf/gudmaprbkfilexfer:1.1'
  }
  withName:getData {
    container = 'docker://bicf/gudmaprbkfilexfer:1.1'
  }
  withName:trimData {
    container = 'docker://bicf/trimgalore:1.1'
    queue = '256GB,256GBv1,384GB'
  }
}


trace {
  enabled = true
  file = 'pipeline_trace.txt'
  fields = 'task_id,native_id,process,name,status,exit,submit,start,complete,duration,realtime,%cpu,%mem,rss'
}

timeline {
  enabled = true
  file = 'timeline.html'
}

report {
  enabled = true
  file = 'report.html'
}

tower {
  accessToken = '3ade8f325d4855434b49aa387421a44c63e3360f'
  enabled = true
}

singularity {
  enabled = true
  cacheDir = '/project/shared/bicf_workflow_ref/singularity_images/'
}

env {
  http_proxy = 'http://proxy.swmed.edu:3128'
  https_proxy = 'http://proxy.swmed.edu:3128'
  all_proxy = 'http://proxy.swmed.edu:3128'
}

manifest {
  homePage = 'https://git.biohpc.swmed.edu/gudmap_rbk/rna-seq'
  description = 'This pipeline was created to analize RNA-sequencing data from GUDMAP/RBK consortiums.'
  mainScript = 'rna-seq.nf'
  version = 'v0.0.1_indev'
  nextflowVersion = '>=19.09.0'
}
